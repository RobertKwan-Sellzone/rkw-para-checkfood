<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Questionnaire</title>
</head>

<body>
    <div id="root"></div>

    <!-- Charge React-->
    <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>

    <!-- Transpileur/Compilateur : transforme et renvoie du code js en un format différent (syntaxe ES6)-->
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <!-- Charge le composant React -->
    <script type="text/babel">

        var list = [{ nom: 'Robert', age: 46, background: 'pink' },
        { nom: 'Michael', age: 39, background: 'cyan' },
        { nom: 'Jose', age: 22, background: 'gray' }];

        var listAge = list.map(ages => ages.age);

        class Identite extends React.Component {

            constructor(props) {
                super(props);
                this.state = { age: listAge }
            }

            updateAge(event) {
                this.setState({ age: event.target.value });
            }

            render() {
                return (
                    <li style={{ backgroundColor: this.props.bg }}>
                        <div>{this.props.name + " âgé de "}
                            <input type="number" value={this.state.age} onChange={this.updateAge.bind(this)} /></div>
                    </li>
                );
            }
        }

        class Questionnaire extends React.Component {

            constructor(props) {
                super(props);
                this.state = { total: 20 }
            }

            render() {
                const oui = "Monseigneur";
                const non = "Oui";

                //var sumAge = list.map(p => p.age).reduce((acc, age) => acc + age);

                return (
                    <div>
                        <div>je suis là</div>
                        <h5>je peux concaténer {oui + non}</h5>
                        <ul>
                            {list.map((person,index) => (
                                <Identite
                                    key={index}
                                    name={person.nom}
                                    age={person.age}
                                    bg={person.background} />
                            ))}
                        </ul>
                    {/*<h4>Total : {sumAge}</h4>*/}
                        <button id="add" on>+</button>
                    </div>);
            }
        }

        ReactDOM.render(
            <Questionnaire />,
            document.getElementById('root')
        );
    </script>

</body>

</html>